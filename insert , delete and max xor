#include <bits/stdc++.h>
using namespace std;


class Node {
    public : 
    int ct ; 
    Node* child[2] ; 
    Node() {
        ct = 0; 
        child[0] = child[1] = nullptr ;
    }
}; 

class Trie {
    public : 
    Node* root ; 
    int sz ;

    Trie () {
        sz = 0 ; 
        root = new Node() ;
    }

    void insert (int x) {
        Node* cur = root ; 
        for(int i=31; i>=0 ; i--) {
            int b = ((x >> i) & 1LL) ;
            if(cur->child[b]==nullptr) cur->child[b] = new Node() ; 
            cur = cur->child[b] ;
            cur->ct++;
        }
        sz++;
    }

    void erase (int x) {
        Node* cur = root ; 
        // check if it exists 
        for(int i=31; i>=0; i--) {
            int b = ((x >> i) & 1LL) ;
            if(cur->child[b]==nullptr || cur->child[b]->ct<=0) return ;
            cur = cur->child[b] ;
        }

        // if exist delete (decrease ct) 
        cur = root;
        for(int i=31; i>=0; i--) {
            int b = ((x >> i) & 1LL) ;
            cur = cur->child[b] ; 
            cur->ct--;
        }
        sz--;
    }

    int max_xor (int x) {

        if(sz==0) return -1 ;

        int ans = 0; 
        Node* cur = root ; 

         for(int i=31; i>=0; i--) {
            int b = ((x >> i) & 1LL) ;
            int want = 1- b ; 
            if(cur->child[want] && cur->child[want]->ct>0) {
                ans |= (1LL << i) ;
                cur = cur->child[want] ;
            }

            else if(cur->child[b] && cur->child[b]->ct>0){
                cur = cur->child[b] ;
            }

            else break;
        }

        return ans;
    }
    
};

int main() {

    Trie t ; 
    int q ; cin >> q; 
        while (q--) {
        int type, x;
        cin >> type >> x;
        if (type == 1) {
            t.insert(x);
        } else if (type == 2) {
            t.erase(x);
        } else if (type == 3) {
            int res = t.max_xor(x);
            if (res == -1)
                cout << "Trie empty\n";
            else
                cout << res << '\n';
        } else {
            // invalid command, ignore
        }
    }

    return 0 ;
}
